import{p as x,a8 as $,B as O,u as Q,z as T,a9 as m,r as V,a7 as U,l as B,aa as G,ab as K,ac as L,k as _,q as w,x as R,E as H,ad as q,ae as j}from"./index.84a03356.js";import{r as F,b as A}from"./focus-manager.d6507951.js";const Z={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},ee=["before-show","show","before-hide","hide"];function te({showing:e,canShow:t,hideOnRouteChange:n,handleShow:r,handleHide:u,processOnMount:c}){const s=Q(),{props:i,emit:a,proxy:b}=s;let l;function h(o){e.value===!0?v(o):g(o)}function g(o){if(i.disable===!0||o!==void 0&&o.qAnchorHandled===!0||t!==void 0&&t(o)!==!0)return;const p=i["onUpdate:modelValue"]!==void 0;p===!0&&(a("update:modelValue",!0),l=o,T(()=>{l===o&&(l=void 0)})),(i.modelValue===null||p===!1)&&k(o)}function k(o){e.value!==!0&&(e.value=!0,a("before-show",o),r!==void 0?r(o):a("show",o))}function v(o){if(i.disable===!0)return;const p=i["onUpdate:modelValue"]!==void 0;p===!0&&(a("update:modelValue",!1),l=o,T(()=>{l===o&&(l=void 0)})),(i.modelValue===null||p===!1)&&E(o)}function E(o){e.value!==!1&&(e.value=!1,a("before-hide",o),u!==void 0?u(o):a("hide",o))}function M(o){i.disable===!0&&o===!0?i["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!1):o===!0!==e.value&&(o===!0?k:E)(l)}x(()=>i.modelValue,M),n!==void 0&&$(s)===!0&&x(()=>b.$route.fullPath,()=>{n.value===!0&&e.value===!0&&v()}),c===!0&&O(()=>{M(i.modelValue)});const S={show:g,hide:v,toggle:h};return Object.assign(b,S),S}const P=[];function oe(e){return P.find(t=>t.__qPortalInnerRef.value!==null&&t.__qPortalInnerRef.value.contains(e))}function C(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return m(e)}else if(e.__qPortalInnerRef!==void 0){const n=m(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=m(e)}while(e!=null)}function ne(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortalInnerRef!==void 0){if(n--,e.$options.name==="QMenu"){e=C(e,t);continue}e.hide(t)}e=m(e)}}function N(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function ie(e,t,n,r){const u=V(!1),c=V(!1);let s=null;const i={},a=r===!0&&N(e);function b(h){if(h===!0){F(i),c.value=!0;return}c.value=!1,u.value===!1&&(a===!1&&s===null&&(s=K()),u.value=!0,P.push(e.proxy),A(i))}function l(h){if(c.value=!1,h!==!0)return;F(i),u.value=!1;const g=P.indexOf(e.proxy);g>-1&&P.splice(g,1),s!==null&&(L(s),s=null)}return U(()=>{l(!0)}),Object.assign(e.proxy,{__qPortalInnerRef:t}),{showPortal:b,hidePortal:l,portalIsActive:u,portalIsAccessible:c,renderPortal:()=>a===!0?n():u.value===!0?[B(G,{to:s},n())]:void 0}}const re={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ue(e,t){const n=V(t.value);return x(t,r=>{T(()=>{n.value=r})}),{transition:_(()=>"q-transition--"+(n.value===!0?e.transitionHide:e.transitionShow)),transitionStyle:_(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function ae(){let e;return w(()=>{e=void 0}),{registerTick(t){e=t,T(()=>{e===t&&(e(),e=void 0)})},removeTick(){e=void 0}}}function le(){let e;return w(()=>{clearTimeout(e)}),{registerTimeout(t,n){clearTimeout(e),e=setTimeout(t,n)},removeTimeout(){clearTimeout(e)}}}const f=[];let y;function W(e){y=e.keyCode===27}function z(){y===!0&&(y=!1)}function J(e){y===!0&&(y=!1,R(e,27)===!0&&f[f.length-1](e))}function I(e){window[e]("keydown",W),window[e]("blur",z),window[e]("keyup",J),y=!1}function se(e){H.is.desktop===!0&&(f.push(e),f.length===1&&I("addEventListener"))}function fe(e){const t=f.indexOf(e);t>-1&&(f.splice(t,1),f.length===0&&I("removeEventListener"))}const d=[];function D(e){d[d.length-1](e)}function de(e){H.is.desktop===!0&&(d.push(e),d.length===1&&document.body.addEventListener("focusin",D))}function ce(e){const t=d.indexOf(e);t>-1&&(d.splice(t,1),d.length===0&&document.body.removeEventListener("focusin",D))}function pe(e,t,n){let r;function u(){r!==void 0&&(q.remove(r),r=void 0)}return w(()=>{e.value===!0&&u()}),{removeFromHistory:u,addToHistory(){r={condition:()=>n.value===!0,handler:t},q.add(r)}}}function ye(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,j(t))}}}export{re as a,ee as b,ae as c,le as d,ue as e,te as f,ie as g,de as h,fe as i,C as j,se as k,pe as l,ye as m,oe as n,ne as o,P as p,ce as r,Z as u};
