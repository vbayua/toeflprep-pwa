import{Q as f,a as w}from"./QCard.e4543373.js";import{f as Q,Q as k}from"./fisherYates.a2d59537.js";import{Q as v}from"./QSeparator.ba6a8f71.js";import{_ as b,r as n,o as h,c as y,w as i,e as a,b as t,t as g,i as O,ag as V,ah as P,ai as S,h as m,aj as _,ak as q,Q as d}from"./index.84a03356.js";import{Q as F}from"./QCardActions.2fccd58c.js";import{Q as A}from"./QDialog.3ff4f6d7.js";import{Q as E}from"./QPage.45ee8f60.js";import{C}from"./ClosePopup.aebf0a38.js";import"./use-dark.28ca17e4.js";import"./option-sizes.005a78de.js";import"./use-form.39c6ddc7.js";import"./use-prevent-scroll.a70b7d0f.js";import"./focus-manager.d6507951.js";const L={name:"ExamPage",setup(){const o=Q([{_id:"120398213",question:"1lorem ipsum dolor sit amet consectetur adipisicing elit. Praesentium officia qui nam aspernatur molestiae quis ",questionType:"Listening Comprehension",answerOptions:["option1","option2","option3","option4"],correctAnswer:"option1"},{_id:"128390120",question:"2lorem ipsum dolor sit amet consectetur adipisicing elit. Praesentium officia qui nam aspernatur molestiae quis ",questionType:"Listening Comprehension",answerOptions:["option11","option22","option33","option444"],correctAnswer:"option33"},{_id:"912390129",question:"3lorem ipsum dolor sit amet consectetur adipisicing elit. Praesentium officia qui nam aspernatur molestiae quis ",questionType:"Listening Comprehension",answerOptions:["option111","option222","option333","option4444"],correctAnswer:"option222"}],!0),l=Q(o,!0),e=n(l),c=n(0),r=n(!0),p=n(!1),u=e.value.length-1;return{questions:e,maxpage:u,confirm:n(!1),isFirstIndex:r,isLastIndex:p,current:c}},data(){const s=n([]),o=n([]),l=n(null);return{response:s,answers:o,pageOf:l}},computed:{return:{getCurrentPage(){return this.questions.forEach(s=>{this.questions.indexOf(s.question)})}}},mounted(){},methods:{nextQuestion(){if(this.current===this.maxpage)return this.isLastIndex=!0,this.$q.notify({message:"You are already at the last page"});this.current++,this.isFirstIndex=!1},previousQuestion(){if(this.current>0)this.current--;else return this.$q.notify({message:"You are already at the first page"})},async onFinish(){try{this.confirm=!0,this.$q.loading.show({message:"Submitting your answers"});const s=await this.questions.map(e=>e._id),o=await this.response.map(e=>e),l=[];for(let e=0;e<s.length;e++){const c=await s[e],r=await o[e]?o[e]:"";l.push({qid:c,answerChoice:r})}}catch(s){this.$q.notify({message:s})}finally{this.$q.loading.hide()}},onChange(s){console.log(s.target.value)}}},B={class:"row justify-center"},I={class:"col-lg-auto"},T={align:"right"},D=a("div",{class:"subtitle"}," Question : ",-1),N={class:"column self-center"},Y={class:"row"},j=a("span",{class:"q-ml-sm"},"Finish and Submit Answers?",-1);function U(s,o,l,e,c,r){return h(),y(E,{padding:"",class:"column"},{default:i(()=>[a("div",B,[a("div",I,[t(w,{class:""},{default:i(()=>[t(f,null,{default:i(()=>[a("span",T," Question "+g(e.current+1)+" of "+g(e.maxpage+1),1)]),_:1}),t(f,null,{default:i(()=>[D,O(" "+g(e.questions[e.current].question),1)]),_:1}),(h(!0),V(S,null,P(e.questions[e.current].answerOptions,(p,u)=>(h(),y(f,{key:u},{default:i(()=>[t(k,{modelValue:c.response[e.current],"onUpdate:modelValue":o[0]||(o[0]=x=>c.response[e.current]=x),val:e.questions[e.current].answerOptions[u],label:e.questions[e.current].answerOptions[u]},null,8,["modelValue","val","label"]),t(v,{spaced:"",inset:"",vertical:"",dark:""})]),_:2},1024))),128))]),_:1})])]),a("div",N,[a("div",Y,[m(t(d,{color:"primary",icon:"arrow_left",label:"PREVIOUS",onClick:q(r.previousQuestion,["prevent"])},null,8,["onClick"]),[[_,e.current>0]]),m(t(d,{color:"primary","icon-right":"arrow_right",label:"NEXT",onClick:q(r.nextQuestion,["prevent"])},null,8,["onClick"]),[[_,e.current!==e.maxpage]]),t(v,{spaced:"",inset:"",vertical:"",dark:""}),m(t(d,{color:"accent",icon:"check",label:"Finish",onClick:q(r.onFinish,["prevent"])},null,8,["onClick"]),[[_,e.current===e.maxpage]])])]),t(A,{modelValue:e.confirm,"onUpdate:modelValue":o[1]||(o[1]=p=>e.confirm=p),persistent:""},{default:i(()=>[t(w,null,{default:i(()=>[t(f,{class:"row items-center"},{default:i(()=>[j]),_:1}),t(F,{align:"center"},{default:i(()=>[m(t(d,{flat:"",label:"Cancel",color:"primary"},null,512),[[C]]),m(t(d,{flat:"",label:"Yes",color:"primary"},null,512),[[C]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var se=b(L,[["render",U]]);export{se as default};
